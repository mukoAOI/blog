BOM，即字节顺序标记（Byte Order Mark），是一种特殊的字符序列，用于标识文本文件的编码方式和字节顺序（即大端序或小端序）。BOM 主要用于 Unicode 编码的文本文件，如 UTF-8 和 UTF-16。

### UTF-8 BOM

在 UTF-8 编码中，BOM 是一个由三个字节组成的特殊字符序列：`0xEF, 0xBB, 0xBF`。它的作用有几个方面：

1. **标识文件编码类型**：BOM 作为文件开头的几个字节，可以用来识别文件是否采用 UTF-8 编码。
2. **指示字节顺序**：虽然 UTF-8 不涉及字节顺序问题（因为它是变长编码），但 BOM 仍然可以用来表明文件的字节顺序是从左到右（即大端序）。

### UTF-16 BOM

在 UTF-16 编码中，BOM 有两种形式：

- **UTF-16BE BOM**：大端序的 BOM 是 `0xFE, 0xFF`。
- **UTF-16LE BOM**：小端序的 BOM 是 `0xFF, 0xFE`。

UTF-16 的 BOM 有以下作用：

1. **标识文件编码类型**：与 UTF-8 类似，BOM 可以用来确定文件使用的 UTF-16 编码。
2. **指示字节顺序**：由于 UTF-16 编码涉及字节顺序（尤其是多字节字符），BOM 可以标识文件的字节顺序，使得解析器能够正确地读取和解释文件内容。

### 添加 BOM 的目的和影响

- **文件识别和兼容性**：通过添加 BOM，可以确保文件的编码方式被正确识别，特别是在不同平台和操作系统中打开和处理文件时。
- **语言环境和工具支持**：某些编程语言和开发工具在处理 Unicode 编码的文件时可能依赖于 BOM 的存在来正确解析文件。

### 添加 BOM 的方法

在使用文本编辑器或程序生成文件时，可以选择在文件的开头添加 BOM。不同的编辑器和工具提供了不同的选项或设置来控制是否添加 BOM。例如，使用 C++ 编写文件时，可以在文件开头写入 BOM（对于 UTF-8 是 `"\xEF\xBB\xBF"`）来确保文件被正确识别和处理。